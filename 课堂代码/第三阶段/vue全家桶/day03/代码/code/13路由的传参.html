<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>路由的基本使用</title>
    <style>
        .active {
            color: tomato;
            font-size: 20px;
            font-weight: bold;
        }

        .v-enter, 
        .v-leave-to{
            opacity: 0;
            transform: translateX(150px);
        }

        .v-enter-active,
        .v-leave-active{
            transition: all 0.5s ease;
        }

    </style>
</head>

<body>
    <div id="app">
        <!-- 跳转html页面 -->
        <!-- <a href="a.html">a</a>
        <a href="b.html">b</a> -->
        <!-- 跳转组件页面 -->
        <router-link to="/login?id=1&name=张三">登录</router-link>
        <router-link to="/register/10/李四">注册</router-link>

        <input type="button" value="button" @click="toNext" />

        <!-- 组件容器，用于匹配显示的组件 -->
        <transition mode="out-in">
            <router-view></router-view>
        </transition>
        
    </div>
</body>

</html>
<script src="./vue.js"></script>
<script src="./vue-router.js"></script>
<script>
    // 创建页面级组件
    // 登录组件
    var login = {
        template: "<h3>这是登录页面</h3>",
        //data、methods初始化完成
        created() {
            console.log("登录组件传参", this.$route);
            console.log("登录组件传参", this.$route.query);
        }
    }

    // 注册组件
    var register = {
        template: "<h3>这是注册页面</h3>",
        created() {
            console.log("注册组件传参", this.$route);
            console.log("注册组件传参", this.$route.params);
        }
    }

    //创建一个路由对象
    var router = new VueRouter({
        routes: [ //配置路由规则的数组 //redirect路由重定向 可以指定根路径的页面
            {
                path: "/",
                redirect: "/register"
            },
            {
                path: "/login",
                component: login
            },
            {
                path: "/register/:id/:name",
                name: "register",
                component: register
            }
        ],
        linkActiveClass: "active" //点击组件链接时的样式类名
    })

    var vm = new Vue({
        el: "#app",
        data: {},
        methods: {
            //跳转组件页面
            toNext() {
                // this.$router.push({path: '/login', query:{id: 99, name: '测试'}});
                this.$router.push({name: 'register', params:{id: 100, name: '测试2'}});
            }
        },
        // router: router
        router
    })
</script>