<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>数据请求</title>
</head>

<body>
    <div id="app">
        <input type="button" value="get请求" @click="getInfo" />
        <input type="button" value="post请求" @click="postInfo" />
        <input type="button" value="put请求" @click="putInfo" />
        <input type="button" value="delete请求" @click="delInfo" />

        <ul>
            <li v-for="item in list">{{ item.name }}</li>
        </ul>
    </div>
</body>

</html>
<script src="./vue.js"></script>
<script src="./vue-resource.js"></script>
<script>
    var vm = new Vue({
        el: "#app",
        data: {
            list:[]
        },
        methods: {
            //get请求
            getInfo() {
                //内置httpget请求（url请求服务端的地址）.then是设置成功回调的函数(res:成功响应的参数)
                this.$http.get('http://jsonplaceholder.typicode.com/users?id=1').then(res => {
                    console.log(res.body);
                    this.list = res.body;
                    console.log("list:", this.list);
                })
            },
            //post请求
            postInfo() {
                this.$http.post('http://localhost:3000/users', {user: "张三"}).then((res) =>{
                    console.log(res.body);
                })
            },
             //put请求
            putInfo() {
                this.$http.put('http://localhost:3000/users', {user: "李四"}).then((res) =>{
                    console.log(res.body);
                })
            },
            //delete请求
            delInfo() {
                this.$http.delete("http://localhost:3000/users", {body:{id: 1}}).then(res => {
                    console.log(res.body);
                })
            }
        }
    })
</script>